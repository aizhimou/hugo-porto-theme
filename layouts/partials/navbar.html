{{/*  Default data  */}}
{{ $logo := "images/default-logo.png" }}
{{ $logoLink := "/" }}

{{ $titleEnabled := true }}
{{ $titleText := "hugo-porto" }}

{{ $getMyCVButtonEnabled := true }}
{{ $getMyCVButtonText := "Get my CV" }}
{{ $getMyCVButtonLink := "#" }}

{{ $menu := slice }}

{{/*  Custom data from configuration file  */}}
{{ with site.Data.navbar }}
  {{ if .params.logo }}{{ $logo = .params.logo }}{{ end }}
  {{ $logo = (resources.Get $logo) }}

  {{ if .site.BaseURL }}{{ $logoLink = .site.BaseURL }}{{ end }}

  {{ if .params.title.text }}{{ $titleText = .params.title.text }}{{ end }}

  {{ if or .params.title.enabled (eq .params.title.enabled false)  }}
    {{ $titleEnabled = .params.title.enabled }}
  {{ end }}

  {{ if or .params.getMyCVButton.enabled (eq .params.getMyCVButton.enabled false)  }}
    {{ $getMyCVButtonEnabled = .params.getMyCVButton.enabled }}
  {{ end }}

  {{ if .params.getMyCVButton.text }}{{ $getMyCVButtonText = .params.getMyCVButton.text }}{{ end }}

  {{ if .params.getMyCVButton.link }}{{ $getMyCVButtonLink = .params.getMyCVButton.link }}{{ end }}

  {{ if .params.menu }}{{ $menu = .params.menu }}{{ end }}
{{ end }}

{{/*  Resize logo if it's not svg  */}}
{{ if ne $logo.MediaType.SubType "svg"}}{{ $logo = $logo.Resize "x40" }}{{ end}}

<section class="py-10 md:py-16">
  <div class="container max-w-screen-xl mx-auto px-4">
    <nav class="flex items-center justify-between">
      <a href="{{ $logoLink }}" class="flex items-center" title="{{- site.Title -}}">
        <img src="{{ $logo.RelPermalink }}" alt="{{ site.Title }}" style="height: 40px;"/>
        {{ if $titleEnabled }}
          <div class="font-medium text-gray-700 text-xl ml-2">
            {{ $titleText }}
          </div>
        {{ end }}
      </a>
      <div class="flex items-center space-x-7">
        {{ range $menu }}
        <div class="relative">
          <h6 class="font-medium text-gray-700 text-md hover:text-gray-900 transition ease-linear duration-500 relative z-10">
            <a href="{{ .link }}" target="{{.target}}">{{ .name }}</a>
          </h6>
          <span
            class="w-5 h-1 bg-blue-200 absolute bottom-1 left-0 z-0"
          ></span>
        </div>
        {{ end }}
      {{ if $getMyCVButtonEnabled }}
        <a
          href="{{ $getMyCVButtonLink }}"
          target="_blank"
          class="hidden md:flex px-7 py-3 md:px-9 md:py-4 bg-white font-medium md:font-semibold text-gray-700 text-md rounded-md hover:bg-gray-700 hover:text-white transition ease-linear duration-500"
        >
          {{ $getMyCVButtonText }}
        </a>
      {{ end }}
    </nav>
  </div>
</section>
